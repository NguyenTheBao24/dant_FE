# FE Admin Panel

## Run locally

1. npm i
2. copy `.env.example` to `.env` and fill values
3. npm run dev

## Supabase backend

Set env vars in `.env`:

```
VITE_SUPABASE_URL=your-url
VITE_SUPABASE_ANON_KEY=your-anon-key
```

Schema SQL:

```sql
create table if not exists public.managers (
  id bigint generated by default as identity primary key,
  name text not null,
  phone text,
  email text,
  avatar text,
  experience text
);

create table if not exists public.hostels (
  id bigint generated by default as identity primary key,
  name text not null,
  address text,
  rooms int not null default 0,
  occupancy int not null default 0,
  manager_id bigint references public.managers(id) on delete set null
);

create or replace view public.hostels_view as
select h.*, jsonb_build_object(
  'id', m.id,
  'name', m.name,
  'phone', m.phone,
  'email', m.email,
  'avatar', m.avatar,
  'experience', m.experience
) as manager
from public.hostels h
left join public.managers m on m.id = h.manager_id;
```

Seed sample data:

```sql
insert into public.managers (name, phone, email, experience)
values ('Nguyễn Văn An', '0901234567', 'an@example.com', '5 năm')
on conflict do nothing;

insert into public.hostels (name, address, rooms, occupancy, manager_id)
select 'Khu trọ An Phú', '123 Đường An Phú, Quận 2, TP.HCM', 50, 45, m.id
from public.managers m
where m.name = 'Nguyễn Văn An'
on conflict do nothing;
```

The app auto-loads from Supabase when env vars exist; otherwise it falls back to local mocks in `src/data/dashboard-data.js`.
